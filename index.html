<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danishbir Singh - Portfolio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/ScrollTrigger.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/Draggable.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/Flip.min.js" defer></script>

    <!-- NEW: Tilt library -->
    <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8.1/dist/vanilla-tilt.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0a; color: #ffffff; overflow-x: hidden; line-height: 1.6;
        }

        /* 3D Background Canvas */
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.3; }

        /* Navigation */
        nav { position: fixed; top: 0; width: 100%; padding: 1rem 5%;
            background: rgba(10, 10, 10, 0.8); backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1); z-index: 1000; transition: all 0.3s ease; }
        nav.scrolled { background: rgba(10, 10, 10, 0.95); border-bottom: 1px solid rgba(255, 255, 255, 0.2); }
        .nav-container { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; }
        .logo { font-size: 1.5rem; font-weight: bold; opacity: 0;
            background: linear-gradient(135deg, #ffffff, #cccccc); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .nav-links { display: flex; gap: 2rem; list-style: none; }
        .nav-links a { color: #ffffff; text-decoration: none; font-weight: 500; transition: all 0.3s ease; opacity: 0; transform: translateY(-20px); position: relative; }
        .nav-links a::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -5px; left: 0; background: linear-gradient(90deg, #ffffff, #888888); transition: width 0.3s ease; }
        .nav-links a:hover::after { width: 100%; }
        .nav-links a:hover { color: #cccccc; transform: translateY(-2px); }

        /* Hero */
        .hero { height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; position: relative; overflow: hidden; }
        .hero-content { max-width: 800px; z-index: 2; }
        .hero h1 { font-size: 4rem; margin-bottom: 1rem; opacity: 0; transform: translateY(50px);
            background: linear-gradient(135deg, #ffffff, #aaaaaa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: 800; }
        .hero .subtitle { font-size: 1.5rem; margin-bottom: 2rem; opacity: 0; transform: translateY(50px); color: #cccccc; font-weight: 300; }
        .hero .description { font-size: 1.1rem; margin-bottom: 3rem; opacity: 0; transform: translateY(50px); max-width: 600px; margin-left: auto; margin-right: auto; color: #999999; }
        .cta-button { display: inline-block; padding: 1rem 2rem; background: linear-gradient(135deg, #333333, #111111); color: #ffffff;
            text-decoration: none; border-radius: 50px; font-weight: bold; transition: all 0.3s ease; opacity: 0; transform: translateY(50px);
            border: 2px solid rgba(255, 255, 255, 0.2); position: relative; overflow: hidden; }
        .cta-button::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent); transition: left 0.5s; }
        .cta-button:hover::before { left: 100%; }
        .cta-button:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(255, 255, 255, 0.1); border-color: rgba(255, 255, 255, 0.4); }

        /* Sections */
        .section { padding: 5rem 5%; max-width: 1200px; margin: 0 auto; position: relative; }
        .section::before { content: ''; position: absolute; top: 0; left: 50%; width: 1px; height: 100px;
            background: linear-gradient(180deg, transparent, rgba(255, 255, 255, 0.3), transparent); transform: translateX(-50%); }
        .section h2 { font-size: 2.5rem; margin-bottom: 3rem; text-align: center; opacity: 0; transform: translateY(50px);
            background: linear-gradient(135deg, #ffffff, #888888); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-weight: 700; }

        /* About */
        .about-content { display: grid; grid-template-columns: 1fr 2fr; gap: 3rem; align-items: center; }
        .about-image { text-align: center; opacity: 0; transform: scale(0.8); }
        .profile-pic { width: 250px; height: 250px; border-radius: 50%; background: linear-gradient(135deg, #333333, #111111);
            display: flex; align-items: center; justify-content: center; font-size: 4rem; color: #ffffff; margin: 0 auto;
            border: 3px solid rgba(255, 255, 255, 0.2); position: relative; overflow: hidden; }
        .profile-pic::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: conic-gradient(transparent, rgba(255, 255, 255, 0.1), transparent); animation: rotate 4s linear infinite; }
        @keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .about-text { opacity: 0; transform: translateX(50px); }
        .about-text p { margin-bottom: 1.5rem; font-size: 1.1rem; color: #cccccc; }

        /* Skills */
        .skills-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 2rem; margin-top: 2rem; }
        .skill-item { background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            padding: 1.5rem; border-radius: 10px; text-align: center; backdrop-filter: blur(10px); opacity: 0; transform: translateY(30px);
            border: 1px solid rgba(255, 255, 255, 0.1); transition: all 0.3s ease; }
        .skill-item:hover { transform: translateY(-5px); border-color: rgba(255, 255, 255, 0.2); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3); }
        .skill-item i { font-size: 2.5rem; margin-bottom: 1rem; color: #ffffff; }

        /* Projects */
        .projects-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; }
        .project-card { background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border-radius: 15px; padding: 2rem; backdrop-filter: blur(10px); transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            opacity: 0; transform: translateY(50px); border: 1px solid rgba(255, 255, 255, 0.1); position: relative; overflow: hidden; }
        .project-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent); }
        .project-card:hover { transform: translateY(-10px); border-color: rgba(255, 255, 255, 0.2); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3); }
        .project-card h3 { margin-bottom: 1rem; color: #ffffff; }
        .project-tech { display: flex; gap: 0.5rem; flex-wrap: wrap; margin: 1rem 0; }
        .tech-tag { background: rgba(255, 255, 255, 0.1); padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.8rem; color: #cccccc; border: 1px solid rgba(255, 255, 255, 0.1); }
        .project-links { display: flex; gap: 1rem; margin-top: 1rem; }
        .project-links a { color: #ffffff; text-decoration: none; font-weight: bold; transition: color 0.3s ease; }
        .project-links a:hover { color: #cccccc; }

        /* Contact */
        .contact-content { text-align: center; }
        .social-links { display: flex; justify-content: center; gap: 2rem; margin: 2rem 0; }
        .social-link { display: flex; align-items: center; justify-content: center; width: 60px; height: 60px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05)); border-radius: 50%;
            color: #ffffff; font-size: 1.5rem; text-decoration: none; transition: all 0.3s ease; opacity: 0; transform: scale(0.5);
            border: 1px solid rgba(255, 255, 255, 0.1); }
        .social-link:hover { background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            transform: scale(1.1); border-color: rgba(255, 255, 255, 0.3); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); }
        .contact-form { max-width: 600px; margin: 0 auto; opacity: 0; transform: translateY(50px); }
        .form-group { margin-bottom: 1.5rem; text-align: left; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #ffffff; }
        .form-group input, .form-group textarea {
            width: 100%; padding: 1rem; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 10px;
            background: rgba(255, 255, 255, 0.05); color: #ffffff; backdrop-filter: blur(10px); transition: all 0.3s ease;
        }
        .form-group input:focus, .form-group textarea:focus { outline: none; border-color: rgba(255, 255, 255, 0.4); background: rgba(255, 255, 255, 0.08); }
        .form-group input::placeholder, .form-group textarea::placeholder { color: rgba(255, 255, 255, 0.5); }
        .submit-btn { background: linear-gradient(135deg, #333333, #111111); color: #ffffff; border: 2px solid rgba(255, 255, 255, 0.2);
            padding: 1rem 2rem; border-radius: 50px; font-weight: bold; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden; }
        .submit-btn::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent); transition: left 0.5s; }
        .submit-btn:hover::before { left: 100%; }
        .submit-btn:hover { transform: translateY(-3px); box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3); border-color: rgba(255, 255, 255, 0.4); }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; }
            .about-content { grid-template-columns: 1fr; text-align: center; }
            .projects-grid { grid-template-columns: 1fr; }
            .nav-links { display: none; }
            .section { padding: 3rem 2rem; }
        }
        /* --- Projects: train-like horizontal entry --- */
        .projects-scroller { padding-top: 4rem; padding-bottom: 4rem; }
        .projects-title { text-align: center; margin-bottom: 2rem; }

        .projects-viewport{
            --card-w: 420px;
            --card-h: 260px;
            --gap: 24px;
            height: 80vh;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
        }

        @media (max-width: 768px){
        .projects-viewport{ --card-w: 320px; --card-h: 200px; --gap: 16px; height: 70vh; }
        }

        .projects-axis{
            display: flex; 
            align-items: center;
            gap: var(--gap);
            will-change: transform;
            cursor: grab;
        }
        
        .projects-axis:active {
            cursor: grabbing;
        }

        /* Card */
        .proj-card{
            width: var(--card-w);
            height: var(--card-h);
            border-radius: 16px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg,#67e8f9,#3b82f6,#a855f7,#ec4899);
            background-size: 300% 300%;
            animation: projGrad 12s ease infinite;
            border: 1px solid rgba(255,255,255,0.12);
            box-shadow: 0 10px 30px rgba(0,0,0,0.35);
            user-select: none;
        }
        @keyframes projGrad {
            0%{ background-position: 0% 50%; }
            50%{ background-position: 100% 50%; }
            100%{ background-position: 0% 50%; }
        }
        .proj-card a{ position:absolute; inset:0; display:block; }
        .proj-title{
            position: absolute; left: 12px; bottom: 10px;
            font-weight: 700; letter-spacing: 0.3px;
            text-shadow: 0 2px 8px rgba(0,0,0,0.45);
        }

        /* Hover overlay */
        .proj-overlay{
            position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
            background: radial-gradient(closest-side, rgba(255,255,255,0.15), rgba(0,0,0,0.45));
            opacity: 0; transition: opacity .25s ease;
            pointer-events: none;
        }
        .proj-card:hover .proj-overlay{ opacity: 1; }
        .proj-cta{
            padding: .6rem 1rem; border-radius: 999px; font-weight: 700;
            background: rgba(255,255,255,0.14);
            border: 1px solid rgba(255,255,255,0.35);
            backdrop-filter: blur(4px);
        }


        /* Accessibility improvements for keyboard focus */
        .proj-card a:focus{
        outline: none;
        }
        .proj-card:focus-within{
        box-shadow: 0 0 0 3px rgba(99,102,241,.65);
        }

        /* Optional subtle hover (desktop) */
        @media (hover:hover){
        .proj-card:hover{ transform: scale(1.05); transition: transform .2s ease; }
        }
    </style>
</head>
<body>
    <!-- 3D Background Canvas -->
    <canvas id="bg-canvas"></canvas>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <div class="logo">Danishbir Singh</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Hi, I'm Danishbir Singh</h1>
            <div class="subtitle">Software Developer</div>
            <p class="description">
                I create beautiful, responsive web applications with modern technologies. 
                Passionate about clean code, user experience, and turning ideas into reality.
            </p>
            <a href="#projects" class="cta-button">View My Work</a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section">
        <h2>About Me</h2>
        <div class="about-content">
            <div class="about-image">
                <div class="profile-pic">üë®‚Äçüíª</div>
            </div>
            <div class="about-text">
                <p>
                    I'm a passionate full-stack developer with 3+ years of experience creating 
                    web applications that solve real-world problems. I love working with modern 
                    technologies and am always eager to learn new ones.
                </p>
                <p>
                    When I'm not coding, you can find me exploring new technologies, contributing 
                    to open source projects, or enjoying a good cup of coffee while planning my 
                    next project.
                </p>
                <div class="skills-grid">
                    <div class="skill-item">
                        <i class="fab fa-js-square"></i>
                        <div>JavaScript</div>
                    </div>
                    <div class="skill-item">
                        <i class="fab fa-react"></i>
                        <div>React</div>
                    </div>
                    <div class="skill-item">
                        <i class="fab fa-node-js"></i>
                        <div>Node.js</div>
                    </div>
                    <div class="skill-item">
                        <i class="fas fa-database"></i>
                        <div>MongoDB</div>
                    </div>
                    <div class="skill-item">
                        <i class="fab fa-python"></i>
                        <div>Python</div>
                    </div>
                    <div class="skill-item">
                        <i class="fab fa-aws"></i>
                        <div>AWS</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="section projects-scroller">
        <h2 class="projects-title">Projects</h2>

        <div class="projects-viewport" id="projectsViewport" aria-label="Projects carousel">
            <div class="projects-axis" id="projectsAxis" aria-live="polite"></div>
        </div>
    </section>


    <!-- Contact Section -->
    <section id="contact" class="section">
        <h2>Get In Touch</h2>
        <div class="contact-content">
            <p>I'm always open to discussing new opportunities, collaborations, or just chatting about tech!</p>
            
            <div class="social-links">
                <a href="https://github.com/danish7x7" class="social-link" target="_blank">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://www.linkedin.com/in/danishbir-singh-bhatti/" class="social-link" target="_blank">
                    <i class="fab fa-linkedin"></i>
                </a>
                <a href="mailto:danishbirsinghbhatti@gmail.com" class="social-link">
                    <i class="fas fa-envelope"></i>
                </a>
            </div>

            <form class="contact-form" id="contactForm">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" placeholder="Your Name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" rows="5" placeholder="Your message..." required></textarea>
                </div>
                <button type="submit" class="submit-btn">Send Message</button>
            </form>
        </div>
    </section>

    <script>
        // 3D Background Scene Setup
        let scene, camera, renderer, particles;

        function init3DBackground() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);

            // Create floating geometric particles
            const geometry = new THREE.BufferGeometry();
            const particleCount = 100;
            const positions = new Float32Array(particleCount * 3);
            const velocities = new Float32Array(particleCount * 3);

            for (let i = 0; i < particleCount * 3; i += 3) {
                positions[i] = (Math.random() - 0.5) * 20;
                positions[i + 1] = (Math.random() - 0.5) * 20;
                positions[i + 2] = (Math.random() - 0.5) * 20;

                velocities[i] = (Math.random() - 0.5) * 0.02;
                velocities[i + 1] = (Math.random() - 0.5) * 0.02;
                velocities[i + 2] = (Math.random() - 0.5) * 0.02;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('velocity', new THREE.BufferAttribute(velocities, 3));

            const material = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.1,
                transparent: true,
                opacity: 0.6
            });

            particles = new THREE.Points(geometry, material);
            scene.add(particles);

            // Add some wireframe cubes
            for (let i = 0; i < 5; i++) {
                const cubeGeometry = new THREE.BoxGeometry(1, 1, 1);
                const cubeMaterial = new THREE.MeshBasicMaterial({
                    color: 0xffffff,
                    wireframe: true,
                    transparent: true,
                    opacity: 0.1
                });
                const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
                
                cube.position.set(
                    (Math.random() - 0.5) * 20,
                    (Math.random() - 0.5) * 20,
                    (Math.random() - 0.5) * 20
                );
                
                cube.rotation.set(
                    Math.random() * Math.PI,
                    Math.random() * Math.PI,
                    Math.random() * Math.PI
                );
                
                scene.add(cube);
            }

            camera.position.z = 5;

            animate3D();
        }

        function animate3D() {
            requestAnimationFrame(animate3D);

            // Animate particles
            const positions = particles.geometry.attributes.position.array;
            const velocities = particles.geometry.attributes.velocity.array;

            for (let i = 0; i < positions.length; i += 3) {
                positions[i] += velocities[i];
                positions[i + 1] += velocities[i + 1];
                positions[i + 2] += velocities[i + 2];

                // Boundary checking
                if (positions[i] > 10 || positions[i] < -10) velocities[i] *= -1;
                if (positions[i + 1] > 10 || positions[i + 1] < -10) velocities[i + 1] *= -1;
                if (positions[i + 2] > 10 || positions[i + 2] < -10) velocities[i + 2] *= -1;
            }

            particles.geometry.attributes.position.needsUpdate = true;

            // Rotate wireframe cubes
            scene.children.forEach((child, index) => {
                if (child.geometry && child.geometry.type === 'BoxGeometry') {
                    child.rotation.x += 0.005 * (index + 1);
                    child.rotation.y += 0.005 * (index + 1);
                }
            });

            // Camera movement based on mouse position
            if (typeof mouseX !== 'undefined') {
                camera.position.x = mouseX * 0.0001;
                camera.position.y = mouseY * 0.0001;
            }

            renderer.render(scene, camera);
        }

        // Mouse tracking for camera movement
        let mouseX = 0, mouseY = 0;
        document.addEventListener('mousemove', (event) => {
            mouseX = event.clientX - window.innerWidth / 2;
            mouseY = event.clientY - window.innerHeight / 2;
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Initialize animations when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize 3D background
            init3DBackground();

            // Animate navigation
            anime({
                targets: '.logo',
                opacity: [0, 1],
                translateY: [-20, 0],
                duration: 1000,
                delay: 500,
                easing: 'easeOutExpo'
            });

            anime({
                targets: '.nav-links a',
                opacity: [0, 1],
                translateY: [-20, 0],
                duration: 800,
                delay: anime.stagger(100, {start: 700}),
                easing: 'easeOutExpo'
            });

            // Animate hero section
            const heroTimeline = anime.timeline({ easing: 'easeOutExpo' });
            heroTimeline
            .add({ targets: '.hero h1', opacity: [0, 1], translateY: [50, 0], duration: 1200, delay: 300 })
            .add({ targets: '.hero .subtitle', opacity: [0, 1], translateY: [50, 0], duration: 1000, offset: '-=800' })
            .add({ targets: '.hero .description', opacity: [0, 1], translateY: [50, 0], duration: 1000, offset: '-=600' })
            .add({ targets: '.cta-button', opacity: [0, 1], translateY: [50, 0], duration: 800, offset: '-=400' });

            // Scroll-triggered animations
            const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -50px 0px' };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const target = entry.target;
                        if (target.matches('.section h2')) {
                            anime({ targets: target, opacity: [0, 1], translateY: [50, 0], duration: 1000, easing: 'easeOutExpo' });
                        }
                        if (target.matches('.about-image')) {
                            anime({ targets: target, opacity: [0, 1], scale: [0.8, 1], duration: 1200, easing: 'easeOutExpo' });
                        }
                        if (target.matches('.about-text')) {
                            anime({ targets: target, opacity: [0, 1], translateX: [50, 0], duration: 1000, delay: 300, easing: 'easeOutExpo' });
                        }
                        if (target.matches('.skill-item')) {
                            anime({ targets: '.skill-item', opacity: [0, 1], translateY: [30, 0], duration: 800, delay: anime.stagger(100), easing: 'easeOutExpo' });
                        }/*
                        if (target.matches('.project-card')) {
                            anime({ targets: '.project-card', opacity: [0, 1], translateY: [50, 0], duration: 1000, delay: anime.stagger(200), easing: 'easeOutExpo' });
                        }*/
                        if (target.matches('.social-link')) {
                            anime({ targets: '.social-link', opacity: [0, 1], scale: [0.5, 1], duration: 600, delay: anime.stagger(100), easing: 'easeOutBack' });
                        }
                        if (target.matches('.contact-form')) {
                            anime({ targets: target, opacity: [0, 1], translateY: [50, 0], duration: 1000, easing: 'easeOutExpo' });
                        }
                    }
                });
            }, observerOptions);

            // Observe all animatable elements
            document.querySelectorAll('.section h2, .about-image, .about-text, .skill-item:first-child, .project-card:first-child, .social-link:first-child, .contact-form').forEach(el => {
                observer.observe(el);
            });

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            });

            // Navbar scroll effect
            window.addEventListener('scroll', () => {
                const navbar = document.getElementById('navbar');
                if (window.scrollY > 50) navbar.classList.add('scrolled'); else navbar.classList.remove('scrolled');
            });

            // Form submission
            document.getElementById('contactForm').addEventListener('submit', function(e) {
                e.preventDefault();
                anime({ targets: '.submit-btn', scale: [1, 0.95, 1], duration: 200, complete: () => { alert('Message sent! (This is a demo - integrate with your backend)'); this.reset(); } });
            });

            // Add hover animations to project cards
            document.querySelectorAll('.project-card').forEach(card => {
                card.addEventListener('mouseenter', () => { anime({ targets: card, scale: 1.02, duration: 300, easing: 'easeOutQuad' }); });
                card.addEventListener('mouseleave', () => { anime({ targets: card, scale: 1, duration: 300, easing: 'easeOutQuad' }); });
            });

            // Parallax effect for sections
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                const sections = document.querySelectorAll('.section');
                sections.forEach((section) => { const rate = scrolled * -0.5; section.style.transform = `translateY(${rate * 0.1}px)`; });
            });

            // Add glitch effect on logo hover
            const logo = document.querySelector('.logo');
            logo.addEventListener('mouseenter', () => { anime({ targets: logo, translateX: [0, -2, 2, 0], duration: 200, easing: 'easeInOutQuad' }); });

            // Typewriter effect for hero subtitle
            function typeWriter(element, text, speed = 100) {
                let i = 0; element.innerHTML = '';
                (function type() { if (i < text.length) { element.innerHTML += text.charAt(i); i++; setTimeout(type, speed); } })();
            }
            setTimeout(() => {
                const subtitle = document.querySelector('.hero .subtitle');
                typeWriter(subtitle, 'Software Developer', 150);
            }, 2000);

            // Floating animation to skill items
            document.querySelectorAll('.skill-item').forEach((item, index) => {
                anime({ targets: item, translateY: [-5, 5], duration: 2000 + (index * 200), direction: 'alternate', loop: true, easing: 'easeInOutSine', delay: index * 300 });
            });

            // Particle trail effect on mouse move (DOM-only)
            let tailParticles = [];
            const maxParticles = 20;
            document.addEventListener('mousemove', (e) => {
                if (tailParticles.length < maxParticles) {
                    const particle = document.createElement('div');
                    particle.style.position = 'fixed';
                    particle.style.left = e.clientX + 'px';
                    particle.style.top = e.clientY + 'px';
                    particle.style.width = '2px';
                    particle.style.height = '2px';
                    particle.style.background = 'rgba(255, 255, 255, 0.5)';
                    particle.style.borderRadius = '50%';
                    particle.style.pointerEvents = 'none';
                    particle.style.zIndex = '9999';
                    document.body.appendChild(particle);
                    tailParticles.push(particle);
                    anime({ targets: particle, scale: [1, 0], opacity: [1, 0], duration: 1000, easing: 'easeOutExpo',
                        complete: () => { particle.remove(); tailParticles = tailParticles.filter(p => p !== particle); } });
                }
            });

            // NEW: Initialize VanillaTilt on project cards
            VanillaTilt.init(document.querySelectorAll(".project-card"), {
                max: 8, speed: 400, glare: true, "max-glare": 0.2
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
        gsap.registerPlugin(Draggable);

        const viewport = document.getElementById('projectsViewport');
        const axis = document.getElementById('projectsAxis');

        // ------------- PROJECT DATA -------------
        const projectsData = [
            { title: 'E-Commerce Platform',  url: 'https://github.com/danish7x7/ecommerce-platform' },
            { title: 'Task Manager',         url: 'https://github.com/danish7x7/task-manager' },
            { title: 'Weather Dashboard',    url: 'https://github.com/danish7x7/weather-dashboard' },
            { title: 'Marketplace Analytics',url: 'https://github.com/danish7x7/marketplace-analytics' },
            { title: 'Bug Bite Detection',   url: 'https://github.com/danish7x7/bug-bite-detection' },
            { title: 'Addiction Analysis',   url: 'https://github.com/danish7x7/addiction-analysis' },
        ];

        // ------------- BUILD CARDS -------------
        function buildCards(){
            axis.innerHTML = '';
            projectsData.forEach(p => {
                const card = document.createElement('div');
                card.className = 'proj-card';
                
                const title = document.createElement('div');
                title.className = 'proj-title';
                title.textContent = p.title;
                
                const overlay = document.createElement('div');
                overlay.className = 'proj-overlay';
                overlay.innerHTML = '<span class="proj-cta">View on GitHub ‚Üí</span>';
                
                const link = document.createElement('a');
                link.href = p.url;
                link.target = '_blank';
                link.rel = 'noopener';
                link.setAttribute('aria-label', p.title + ' ‚Äì open on GitHub');

                card.appendChild(title);
                card.appendChild(overlay);
                card.appendChild(link);
                axis.appendChild(card);
            });
        }
        buildCards();

        // Duplicate cards for seamless loop
        const original = axis.innerHTML;
        function ensureLoopWidth(){
            while (axis.scrollWidth < viewport.clientWidth * 2.2) {
                axis.insertAdjacentHTML('beforeend', original);
            }
        }
        ensureLoopWidth();

        // ------------- TRAIN-LIKE ENTRY ANIMATION -------------
        const cards = gsap.utils.toArray('.proj-card');
        const viewportWidth = viewport.clientWidth;
        const cardWidth = parseFloat(getComputedStyle(viewport).getPropertyValue('--card-w'));
        
        // Calculate each card's natural position in the flex container
        // Then set them all to start off-screen to the right
        cards.forEach((card, index) => {
            // Get the card's position relative to the axis
            const cardRect = card.getBoundingClientRect();
            const axisRect = axis.getBoundingClientRect();
            const naturalX = cardRect.left - axisRect.left;
            
            // Start each card off-screen to the right, maintaining their relative spacing
            gsap.set(card, {
                x: viewportWidth + cardWidth - naturalX,
                opacity: 0
            });
        });

        // Animate cards entering from right in train-like sequence
        const entryTimeline = gsap.timeline({
            onComplete: startSlowMotion
        });

        // Each card moves to its natural position (x: 0) with a stagger
        entryTimeline.to(cards, {
            x: 0,
            opacity: 1,
            duration: 1.2,
            stagger: 0.15, // 0.15s delay between each card (train effect)
            ease: 'power3.out'
        });

        // ------------- SLOW MOTION DRIFT -------------
        let driftTween = null;
        let isDragging = false;
        let currentX = 0;

        function startSlowMotion(){
            killDrift();
            const half = axis.scrollWidth / 2;
            let currentPosition = gsap.getProperty(axis, "x") || 0;
            
            // Normalize position if we're past the reset point (seamless loop)
            if (currentPosition <= -half) {
                currentPosition = currentPosition + half;
                gsap.set(axis, {x: currentPosition});
            }
            
            // Calculate target: move from current position to reset point
            const targetX = currentPosition - half;
            const distance = Math.abs(targetX - currentPosition);
            const speed = half / 75; // pixels per second
            const duration = distance / speed;
            
            // Create continuous loop animation
            driftTween = gsap.to(axis, {
                x: targetX,
                duration: duration || 75,
                ease: 'none',
                repeat: -1, // Infinite repeat
                onRepeat: () => {
                    // Seamless reset: when we reach -half, duplicate content is aligned
                    // with original at 0, so we can reset without visual jump
                    const pos = gsap.getProperty(axis, "x");
                    if (pos <= -half) {
                        gsap.set(axis, {x: pos + half});
                    }
                }
            });
        }

        function killDrift(){
            if (driftTween) {
                driftTween.kill();
                driftTween = null;
            }
        }

        // Pause drift on hover/interaction
        axis.addEventListener('mouseenter', () => {
            if (driftTween && !isDragging) driftTween.pause();
        });
        axis.addEventListener('mouseleave', () => {
            if (driftTween && !isDragging) driftTween.resume();
        });
        axis.addEventListener('focusin', () => {
            if (driftTween && !isDragging) driftTween.pause();
        });
        axis.addEventListener('focusout', () => {
            if (driftTween && !isDragging) driftTween.resume();
        });

        // ------------- DRAG FUNCTIONALITY (DESKTOP & MOBILE) -------------
        const draggable = Draggable.create(axis, {
            type: 'x',
            bounds: {
                minX: -(axis.scrollWidth - viewport.clientWidth),
                maxX: 0
            },
            edgeResistance: 0.85,
            inertia: true,
            throwResistance: 5000, // Higher resistance = slower deceleration (more momentum)
            onDragStart: () => {
                isDragging = true;
                killDrift();
            },
            onDragEnd: () => {
                isDragging = false;
                // Don't resume immediately - let inertia complete first
            },
            onThrowComplete: () => {
                // Inertia has finished, now resume slow motion from current position
                if (!isDragging) {
                    startSlowMotion();
                }
            }
        })[0];

        // Handle window resize
        window.addEventListener('resize', () => {
            ensureLoopWidth();
            if (draggable) {
                draggable.update();
            }
        });
    });
</script>
</body>
</html>
